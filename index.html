<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Beauty NLP Analyzer</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; max-width: 600px; margin: auto; padding: 20px; background: #fff5f7; color: #444; }
        .card { background: white; padding: 20px; border-radius: 15px; box-shadow: 0 4px 10px rgba(0,0,0,0.05); margin-bottom: 20px; border-top: 5px solid #ff85a2; }
        textarea { width: 100%; height: 100px; border-radius: 8px; border: 1px solid #ddd; padding: 10px; box-sizing: border-box; font-size: 16px; }
        button { background: #ff85a2; color: white; border: none; padding: 12px 20px; border-radius: 25px; cursor: pointer; font-weight: bold; width: 100%; margin-top: 10px; }
        .neg { color: #e91e63; font-weight: bold; }
        .pos { color: #4caf50; font-weight: bold; }
        .stats { font-size: 14px; background: #fce4ec; padding: 10px; border-radius: 10px; margin-top: 10px; }
    </style>
</head>
<body>
    <h1>ðŸŒ¸ Beauty Analyzer</h1>
    <div class="card">
        <h3>Paste Review</h3>
        <textarea id="input" placeholder="Is the product fake? Effective? Write here..."></textarea>
        <button onclick="analyze()">Analyze Review</button>
    </div>
    <div id="result" class="card" style="display:none;"></div>
    <div class="card">
        <h3>ðŸ“Š Analytics History</h3>
        <div id="stats" class="stats">No data yet.</div>
        <div id="historyList"></div>
    </div>
<script>
    let history = JSON.parse(localStorage.getItem('beauty_data')) || [];
    function analyze() {
        const text = document.getElementById('input').value;
        if(!text) return;
        let issues = [];
        if(/fake|scam|original|authentic|amoy|smell/i.test(text)) issues.push("Authenticity");
        if(/damaged|basag|leak|tapon|broken/i.test(text)) issues.push("Damage");
        if(/tigyawat|pimple|breakout|acne/i.test(text)) issues.push("Skin Reaction");
        let sentiment = (issues.length > 0 || /worst|bad|sayang/i.test(text)) ? "NEGATIVE" : "POSITIVE";
        const entry = { time: new Date().toLocaleTimeString(), text, sentiment, issues: issues.length ? issues : ["General"] };
        history.push(entry);
        localStorage.setItem('beauty_data', JSON.stringify(history));
        render();
        document.getElementById('input').value = "";
    }
    function render() {
        if(!history.length) return;
        document.getElementById('result').style.display = "block";
        const last = history[history.length-1];
        document.getElementById('result').innerHTML = `<h4>Result: <span class="${last.sentiment.toLowerCase()}">${last.sentiment}</span></h4><p>${last.issues.join(", ")}</p>`;
        const negs = history.filter(h => h.sentiment === "NEGATIVE").length;
        document.getElementById('stats').innerHTML = `Total analyzed: ${history.length} | Negatives found: ${negs}`;
        document.getElementById('historyList').innerHTML = history.slice().reverse().map(h => `<hr><p><small>${h.time}</small> [${h.sentiment}]<br>${h.text}</p>`).join('');
    }
    render();
</script>
</body>
</html>
